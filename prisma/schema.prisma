generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

enum ProduceType {
  Vegetable
  SpecialtyVegetable
  Fruit
  Berry
  StoneFruit
  SpecialtyFruit
  EdibleFlower
  Herb
}

enum AvailabilityType {
  Available
  Limited
  Unavailable
  Imported
  LimitedImported
}

model Produce {
  id            Int         @id @default(autoincrement())
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
  title         String
  type          ProduceType
  description   String      @default("")
  image         String      @default("")
  authorId      String
  seasonality   Seasonality @relation(fields: [seasonalityId], references: [id])
  seasonalityId Int

  @@index([authorId])
  @@index([seasonalityId])
}

model Seasonality {
  id        Int              @id @default(autoincrement())
  createdAt DateTime         @default(now())
  updatedAt DateTime         @updatedAt
  produceId Int
  january   AvailabilityType
  february  AvailabilityType
  march     AvailabilityType
  april     AvailabilityType
  may       AvailabilityType
  june      AvailabilityType
  july      AvailabilityType
  august    AvailabilityType
  september AvailabilityType
  october   AvailabilityType
  november  AvailabilityType
  december  AvailabilityType
  Produce   Produce[]
}
